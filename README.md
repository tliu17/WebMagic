[WebMagic](https://github.com/yukihamada/WebMagic/blob/main/public/logo.png?raw=true)


# LLMを使ったWEBシステム構築システム

このシステムは、LLMを用いてユーザー要求に基づくウェブページとシステムをダイナミックに生成します。UI要素はもちろん、データベースとのやり取りも可能です。指示に基づいて最適なプロンプトを選択し、効率的にウェブサイトを構築します。一度実行されたプロンプトはMD5でハッシュ化され、キャッシュに保存。同一の要求が再度あった場合はキャッシュから高速に取得します。これにより、トークン消費を抑えつつ高速でコスト効率的なウェブ構築が可能になります。

## フォルダー構成

以下に各フォルダとその説明を記載します。

```
.
├── admin
├── class
├── composer.json
├── composer.lock
├── public
│   ├── ai
│   │   ├── backups
│   │   ├── create.php
│   │   ├── init.php
│   │   ├── loading.php
│   │   └── prompt
│   │       └── index.txt
│   ├── index.php
│   └── router.php
├── vendor
├── cache
├── logs
└── replit.nix
```

- `class`: このシステムで使用するクラスが格納されているフォルダです。
- `composer.json`と`composer.lock`: Composerの設定ファイルと依存関係の記録が格納されています。
- `public`: 公開ディレクトリで、ここには直接アクセス可能なPHPファイルが格納されています。
- `public/ai`: AI関連のファイルが格納されているディレクトリです。
- `public/ai/prompt`: ここにある`index.txt`がメインのプロンプトになります。このファイルは必ず読み込まれるため、適宜編集が必要です。
- `vendor`: Composerによって管理される依存ライブラリが格納されているディレクトリです。
- `cache`: キャッシュ用のフォルダです。
- `logs`: ログが格納されているフォルダです。
- `replit.nix`: 環境設定や依存関係の設定が含まれているファイルです。

## システムの使い方

ページを作成したい場合、以下のようなコードを書きます。

```php
<?php
PROMPT("** 作成して欲しいページ **");
```

上記をブラウザより実行するとai/promptのtxtから関連しそうなドキュメントをLLMが判断し、プロンプトが動的に生成さコードが書き出されます。これにより、要求に応じたウェブページが即座に作成されます。再度アクセスをすることで生成されたページを確認することができます。

作成したページはURLの末尾に`?m=e`をつけることで再編集可能です。

## ページ作成事例

以下にいくつかのページ作成事例を示します。

### 事例1: 求人募集ページの作成

```php
<?php
PROMPT("
***求人募集ページ***

デザイン要件:
- メニューバーは青色
- メニューバーの文字は白色
- メニューには'お問い合わせ'リンクを設け、/contactにリンクさせる

コンテンツ:
- 我々は優秀な人材を求めています。詳細は下記をご覧ください。

[募集職種]
[必要スキル]
[待遇]
");
```

### 事例2: 物件情報ページの作成

```php
<?php
PROMPT("
***物件情報ページ***

デザイン要件:
- メニューバーは緑色
- メニューバーの文字は黒色
- メニューには'ホーム'リンクを設け、/homeにリンクさせる

コンテンツ:
- データベースからURL:/eatate.php?estate_id=(物件
ID)の物件情報を取得し、詳細に表示します。
- [物件名]
- [物件価格]
- [物件詳細]
- [連絡先]
");
```

### 事例3: ユーザー登録ページの作成

```php
<?php
PROMPT("
***ユーザー登録ページ***

デザイン要件:
- メニューバーは赤色
- メニューバーの文字は白色
- メニューには'ログイン'リンクを設け、/loginにリンクさせる

コンテンツ:
- 新規ユーザーの登録フォームを提供します。
- [名前入力欄]
- [メールアドレス入力欄]
- [パスワード入力欄]
- [登録ボタン]
");
```

## ライセンス

本プロジェクトはMITライセンスのもとで公開されています。これにより、誰でも自由に利用、変更、再配布が可能となっています。

## 今後の計画

- パラメータで`m=d`を使ってページの削除が可能にする予定です。
- CockroachDB CloudのAPIキー及び認証キーを設定することで、データベースとの接続を強化します。これにより、お問い合わせフォームのデータ入力、ユーザ登録、物件登録などが容易になります。

## コントリビュート

本プロジェクトはGitHub上でオープンソースとして公開されています。どなたでも自由に利用、変更、再配布が可能です。また、プロジェクトへの貢献も歓迎します。プルリクエストやイシューを通じてコントリビュートをお願いします。

## 注意

このシステムは開発中のものであり、いくつかの機能はまだ実装されていません。また、本番環境での使用を前提としていないため、使用には注意が必要です。